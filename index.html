<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loaders Playground</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Inter', -apple-system, sans-serif;
  background: #0a0a0a;
  color: #e0e0e0;
  height: 100vh;
  overflow: hidden;
  display: flex;
}

/* ── Sidebar ── */
.sidebar {
  width: 240px;
  min-width: 240px;
  background: #141414;
  border-right: 1px solid #222;
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow-y: auto;
}

.sidebar-header {
  padding: 24px 20px 16px;
  font-size: 13px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #666;
}

.sidebar-section {
  padding: 0 12px;
  margin-bottom: 8px;
}

.sidebar-label {
  padding: 8px 8px 6px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #444;
}

.sidebar-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
  color: #888;
  font-size: 13px;
  font-weight: 500;
}

.sidebar-item:hover {
  background: #1a1a1a;
  color: #ccc;
}

.sidebar-item.active {
  background: #1e1e1e;
  color: #fff;
}

.sidebar-preview {
  width: 32px;
  height: 32px;
  border-radius: 6px;
  background: #1a1a1a;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.sidebar-item.active .sidebar-preview {
  background: #252525;
}

/* Sidebar mini previews */
.mini-pulsing-dots {
  display: flex;
  gap: 3px;
  align-items: center;
}
.mini-pulsing-dots span {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #888;
  animation: miniPulse 1.2s ease-in-out infinite;
}
.mini-pulsing-dots span:nth-child(2) { animation-delay: 0.2s; }
.mini-pulsing-dots span:nth-child(3) { animation-delay: 0.4s; }

.mini-orbiting {
  width: 14px;
  height: 14px;
  position: relative;
}
.mini-orbiting-center {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #888;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: miniBreath 1.5s ease-in-out infinite;
}
.mini-orbiting-dot {
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background: #888;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  animation: miniOrbit 1.5s linear infinite;
  transform-origin: 50% 7px;
}

.mini-circular {
  width: 14px;
  height: 14px;
  border: 2px solid #333;
  border-top-color: #888;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

.mini-bouncing {
  display: flex;
  gap: 2px;
  align-items: flex-end;
  height: 14px;
}
.mini-bouncing span {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #888;
  animation: miniBounce 0.6s ease-in-out infinite alternate;
}
.mini-bouncing span:nth-child(2) { animation-delay: 0.1s; }
.mini-bouncing span:nth-child(3) { animation-delay: 0.2s; }

.mini-spinner {
  width: 14px;
  height: 14px;
  border: 2px solid transparent;
  border-top-color: #888;
  border-right-color: #888;
  border-radius: 50%;
  animation: spin 0.9s linear infinite;
}

.mini-breathing {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #888;
  animation: miniBreath 2s ease-in-out infinite;
}

.mini-wave-bars {
  display: flex;
  gap: 2px;
  align-items: center;
  height: 14px;
}
.mini-wave-bars span {
  width: 2px;
  background: #888;
  border-radius: 1px;
  animation: miniWave 1s ease-in-out infinite;
}
.mini-wave-bars span:nth-child(1) { height: 6px; animation-delay: 0s; }
.mini-wave-bars span:nth-child(2) { height: 10px; animation-delay: 0.1s; }
.mini-wave-bars span:nth-child(3) { height: 14px; animation-delay: 0.2s; }
.mini-wave-bars span:nth-child(4) { height: 10px; animation-delay: 0.3s; }
.mini-wave-bars span:nth-child(5) { height: 6px; animation-delay: 0.4s; }

.mini-rotating-square {
  width: 10px;
  height: 10px;
  border-radius: 2px;
  background: #888;
  animation: spin 1.5s ease-in-out infinite;
}

.mini-glow-ring {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid transparent;
  border-top-color: #aaccff;
  border-right-color: rgba(170, 204, 255, 0.3);
  animation: spin 1s linear infinite;
  box-shadow: 0 -4px 6px rgba(170, 204, 255, 0.4);
}

@keyframes miniPulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}
@keyframes miniOrbit {
  to { transform: translateX(-50%) rotate(360deg); }
}
@keyframes miniBreath {
  0%, 100% { transform: translate(-50%, -50%) scale(0.7); opacity: 0.5; }
  50% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}
@keyframes miniBounce {
  to { transform: translateY(-8px); }
}
@keyframes miniWave {
  0%, 100% { transform: scaleY(0.5); }
  50% { transform: scaleY(1.2); }
}

/* ── Main area ── */
.main {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 24px;
  gap: 16px;
  overflow-y: auto;
}

/* ── Phone mockup ── */
.phone {
  width: 364px;
  height: 728px;
  background: #000;
  border-radius: 52px;
  padding: 14px;
  position: relative;
  box-shadow:
    0 0 0 1px #333,
    0 20px 60px rgba(0, 0, 0, 0.5);
}

.phone-screen {
  width: 100%;
  height: 100%;
  background: #ffffff;
  border-radius: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

/* Dynamic Island */
.phone-screen::before {
  content: '';
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 28px;
  background: #000;
  border-radius: 12px;
  z-index: 10;
}

/* ── Loader container ── */
.loader-container {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  transform: scale(0.7);
}

.loader {
  display: none;
  align-items: center;
  justify-content: center;
}

.loader.active {
  display: flex;
  animation: loaderFadeIn 0.3s ease;
}

@keyframes loaderFadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

/* ── Loader 1: Pulsing Dots ── */
.pulsing-dots {
  display: flex;
  gap: 10px;
  align-items: center;
}
.pulsing-dots span {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #333;
  animation: pulsingDot 1.4s ease-in-out infinite;
}
.pulsing-dots span:nth-child(2) { animation-delay: 0.2s; }
.pulsing-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes pulsingDot {
  0%, 100% { opacity: 0.2; transform: scale(0.8); }
  50% { opacity: 1; transform: scale(1); }
}

/* ── Loader 2: Orbiting Dots ── */
.orbiting-dots {
  width: 60px;
  height: 60px;
  position: relative;
}
.orbiting-center {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #333;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: orbitPulse 2s ease-in-out infinite;
}
.orbiting-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #555;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  transform-origin: 50% 30px;
  animation: orbit 1.8s linear infinite;
}
.orbiting-dot:nth-child(3) {
  animation-delay: -0.6s;
  background: #777;
  width: 6px;
  height: 6px;
}
.orbiting-dot:nth-child(4) {
  animation-delay: -1.2s;
  background: #999;
  width: 5px;
  height: 5px;
}

@keyframes orbitPulse {
  0%, 100% { transform: translate(-50%, -50%) scale(0.85); opacity: 0.6; }
  50% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}
@keyframes orbit {
  to { transform: translateX(-50%) rotate(360deg); }
}

/* ── Loader 3: Circular Loader ── */
.circular-loader {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: 4px solid #e0e0e0;
  border-top-color: #333;
  animation: spin 0.8s linear infinite;
  position: relative;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* ── Loader 4: Bouncing Dots ── */
.bouncing-dots {
  display: flex;
  gap: 10px;
  align-items: flex-end;
  height: 40px;
}
.bouncing-dots span {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #333;
  animation: bounceDot 0.6s ease-in-out infinite alternate;
}
.bouncing-dots span:nth-child(2) { animation-delay: 0.15s; }
.bouncing-dots span:nth-child(3) { animation-delay: 0.3s; }

@keyframes bounceDot {
  from { transform: translateY(0); }
  to { transform: translateY(-20px); }
}

/* ── Loader 5: Spinner Ring ── */
.spinner-ring {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 4px solid transparent;
  border-top-color: #333;
  border-right-color: #333;
  border-bottom-color: #333;
  animation: spin 1s linear infinite;
}

/* ── Loader 6: Breathing Circle ── */
.breathing-circle {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: #333;
  animation: breathe 2.5s ease-in-out infinite;
}

@keyframes breathe {
  0%, 100% { transform: scale(0.6); opacity: 0.4; }
  50% { transform: scale(1); opacity: 1; }
}

/* ── Loader 7: Wave Bars ── */
.wave-bars {
  display: flex;
  gap: 5px;
  align-items: center;
  height: 40px;
}
.wave-bars span {
  width: 6px;
  background: #333;
  border-radius: 3px;
  animation: waveBar 1.2s ease-in-out infinite;
}
.wave-bars span:nth-child(1) { height: 16px; animation-delay: 0s; }
.wave-bars span:nth-child(2) { height: 24px; animation-delay: 0.1s; }
.wave-bars span:nth-child(3) { height: 32px; animation-delay: 0.2s; }
.wave-bars span:nth-child(4) { height: 24px; animation-delay: 0.3s; }
.wave-bars span:nth-child(5) { height: 16px; animation-delay: 0.4s; }

@keyframes waveBar {
  0%, 100% { transform: scaleY(0.5); opacity: 0.5; }
  50% { transform: scaleY(1.3); opacity: 1; }
}

/* ── Loader 8: Rotating Square ── */
.rotating-square {
  width: 36px;
  height: 36px;
  border-radius: 6px;
  background: #333;
  animation: rotateSq 1.6s ease-in-out infinite;
}

@keyframes rotateSq {
  0% { transform: rotate(0deg); }
  50% { transform: rotate(180deg); border-radius: 50%; }
  100% { transform: rotate(360deg); border-radius: 6px; }
}

/* ── Loader 9: Glow Ring ── */
.glow-ring-wrapper {
  width: 80px;
  height: 80px;
  position: relative;
  animation: glowSpin 1s linear infinite;
}

/* The conic-gradient arc */
.glow-ring-arc {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: conic-gradient(
    from 0deg,
    transparent 0%,
    transparent 55%,
    hsl(210, 100%, 10%) 62%,
    hsl(210, 80%, 45%) 80%,
    hsl(210, 90%, 72%) 92%,
    white 100%
  );
  mask: radial-gradient(transparent 83%, white 85%);
  -webkit-mask: radial-gradient(transparent 83%, white 85%);
}

/* The glowing dot at the leading edge (top center) */
.glow-ring-dot {
  position: absolute;
  top: 1px;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 8px;
  background: white;
  border-radius: 50%;
}

/* Soft glow behind the dot */
.glow-ring-dot::before {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  background: white;
  filter: blur(8px);
  opacity: 0.9;
}

@keyframes glowSpin {
  to { transform: rotate(360deg); }
}

/* ── Code panel (bottom-right) ── */
.code-panel {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 100;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 8px;
}

.copy-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: #1a1a1a;
  color: #888;
  border: 1px solid #333;
  border-radius: 8px;
  font-family: 'Inter', sans-serif;
  font-size: 11px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
}

.copy-btn:hover {
  background: #222;
  color: #fff;
  border-color: #444;
}

.copy-btn.copied {
  background: #1a2e1a;
  border-color: #2d5a2d;
  color: #6fbf6f;
}

.copy-btn svg {
  width: 14px;
  height: 14px;
}

.code-preview {
  background: #141414;
  border: 1px solid #222;
  border-radius: 8px;
  padding: 14px;
  max-height: 220px;
  max-width: 380px;
  overflow-y: auto;
  display: none;
}

.code-preview.open {
  display: block;
  animation: loaderFadeIn 0.2s ease;
}

.code-preview pre {
  font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
  font-size: 10px;
  line-height: 1.5;
  color: #a0a0a0;
  white-space: pre;
  overflow-x: auto;
}

.toggle-code {
  background: none;
  border: none;
  color: #555;
  font-family: 'Inter', sans-serif;
  font-size: 11px;
  cursor: pointer;
  padding: 4px 0;
  transition: color 0.15s;
}

.toggle-code:hover {
  color: #888;
}

/* ── Mode toggle ── */
.mode-toggle {
  display: flex;
  background: #141414;
  border: 1px solid #222;
  border-radius: 8px;
  overflow: hidden;
  align-self: center;
}

.mode-btn {
  padding: 8px 18px;
  background: none;
  border: none;
  color: #555;
  font-family: 'Inter', sans-serif;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s;
}

.mode-btn:first-child {
  border-right: 1px solid #222;
}

.mode-btn:hover {
  color: #999;
}

.mode-btn.active {
  background: #1e1e1e;
  color: #fff;
}

/* ── Contextual mode ── */
.phone-screen.contextual .loader-container {
  display: none;
}

.contextual-ui {
  display: none;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 56px 20px 20px;
  overflow: hidden;
}

.phone-screen.contextual .contextual-ui {
  display: flex;
  animation: loaderFadeIn 0.3s ease;
}

.ctx-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 16px;
}

.ctx-title {
  font-size: 16px;
  font-weight: 600;
  color: #111;
}

.ctx-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: #e8e8e8;
}

.ctx-card {
  background: #f5f5f5;
  border-radius: 14px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.ctx-card-title {
  font-size: 13px;
  font-weight: 600;
  color: #333;
}

.ctx-card-subtitle {
  font-size: 11px;
  color: #999;
  line-height: 1.4;
}

.ctx-loader-area {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 64px;
}

.ctx-loader-area > * {
  transform: scale(0.55);
  transform-origin: center;
}

.ctx-skeleton {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 16px;
}

.ctx-skeleton-line {
  height: 10px;
  background: #ebebeb;
  border-radius: 5px;
}

.ctx-skeleton-line:nth-child(1) { width: 100%; }
.ctx-skeleton-line:nth-child(2) { width: 85%; }
.ctx-skeleton-line:nth-child(3) { width: 60%; }

.ctx-bottom-bar {
  margin-top: auto;
  display: flex;
  justify-content: space-around;
  padding: 10px 0 4px;
  border-top: 1px solid #eee;
}

.ctx-tab {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  background: #ddd;
}

.ctx-tab:nth-child(2) {
  background: #333;
}

.color-swatches {
  display: flex;
  gap: 6px;
  align-items: center;
}

.color-swatch {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: 2px solid transparent;
  cursor: pointer;
  transition: border-color 0.15s, transform 0.15s;
  position: relative;
}

.color-swatch:hover {
  transform: scale(1.1);
}

.color-swatch.active {
  border-color: #fff;
}

.color-swatch::after {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.controls-label {
  font-size: 11px;
  color: #999;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  font-weight: 600;
}

.theme-row {
  display: flex;
  align-items: center;
  gap: 10px;
  background: #161616;
  border: 1px solid #252525;
  border-radius: 100px;
  padding: 8px 16px 8px 14px;
}

/* ── Shimmer base ── */
@keyframes shimmerSweep {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.shimmer-bone {
  background: linear-gradient(90deg, #e8e8e8 25%, #f5f5f5 50%, #e8e8e8 75%);
  background-size: 200% 100%;
  animation: shimmerSweep 1.5s ease-in-out infinite;
  border-radius: 6px;
}

/* Override container when a shimmer is active */
.loader-container:has(.shimmer-type.active) {
  transform: none;
  padding: 56px 20px 20px;
  align-items: stretch;
}

.shimmer-type {
  flex-direction: column;
  width: 100%;
}

/* ── Shimmer: Card ── */
.shimmer-card-layout {
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
}
.shimmer-card-image {
  width: 100%;
  height: 140px;
  border-radius: 12px;
}
.shimmer-card-line1 {
  width: 70%;
  height: 14px;
}
.shimmer-card-line2 {
  width: 50%;
  height: 10px;
}
.shimmer-card-actions {
  display: flex;
  gap: 10px;
  margin-top: 4px;
}
.shimmer-card-btn {
  width: 60px;
  height: 28px;
  border-radius: 14px;
}

/* ── Shimmer: Text Block ── */
.shimmer-text-layout {
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
}
.shimmer-text-title {
  width: 55%;
  height: 16px;
  border-radius: 4px;
  margin-bottom: 4px;
}
.shimmer-text-line {
  height: 11px;
  border-radius: 4px;
}
.shimmer-text-line:nth-child(2) { width: 100%; }
.shimmer-text-line:nth-child(3) { width: 95%; }
.shimmer-text-line:nth-child(4) { width: 88%; }
.shimmer-text-line:nth-child(5) { width: 100%; }
.shimmer-text-line:nth-child(6) { width: 72%; }

/* ── Shimmer: Profile ── */
.shimmer-profile-layout {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  width: 100%;
}
.shimmer-profile-avatar {
  width: 72px;
  height: 72px;
  border-radius: 50%;
}
.shimmer-profile-name {
  width: 120px;
  height: 16px;
  border-radius: 4px;
}
.shimmer-profile-bio {
  height: 10px;
  border-radius: 4px;
}
.shimmer-profile-bio:nth-child(3) { width: 180px; }
.shimmer-profile-bio:nth-child(4) { width: 140px; }
.shimmer-profile-stats {
  display: flex;
  gap: 24px;
  margin-top: 4px;
}
.shimmer-profile-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}
.shimmer-profile-stat-num {
  width: 36px;
  height: 14px;
  border-radius: 4px;
}
.shimmer-profile-stat-label {
  width: 48px;
  height: 9px;
  border-radius: 4px;
}

/* ── Shimmer: Feed List ── */
.shimmer-feed-layout {
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 100%;
}
.shimmer-feed-item {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}
.shimmer-feed-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  flex-shrink: 0;
}
.shimmer-feed-lines {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-top: 2px;
}
.shimmer-feed-line1 {
  width: 75%;
  height: 12px;
  border-radius: 4px;
}
.shimmer-feed-line2 {
  width: 55%;
  height: 10px;
  border-radius: 4px;
}
.shimmer-feed-divider {
  height: 1px;
  background: #f0f0f0;
  width: 100%;
}

/* ── Mini shimmer preview ── */
.mini-shimmer {
  display: flex;
  flex-direction: column;
  gap: 2px;
  width: 18px;
}
.mini-shimmer span {
  height: 2px;
  border-radius: 1px;
  background: linear-gradient(90deg, #555 25%, #777 50%, #555 75%);
  background-size: 200% 100%;
  animation: shimmerSweep 1.5s ease-in-out infinite;
}
.mini-shimmer span:nth-child(1) { width: 100%; }
.mini-shimmer span:nth-child(2) { width: 80%; }
.mini-shimmer span:nth-child(3) { width: 60%; }

.mini-shimmer-card {
  width: 18px;
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.mini-shimmer-card-img {
  width: 100%;
  height: 8px;
  border-radius: 2px;
  background: linear-gradient(90deg, #555 25%, #777 50%, #555 75%);
  background-size: 200% 100%;
  animation: shimmerSweep 1.5s ease-in-out infinite;
}
.mini-shimmer-card-line {
  height: 2px;
  border-radius: 1px;
  background: linear-gradient(90deg, #555 25%, #777 50%, #555 75%);
  background-size: 200% 100%;
  animation: shimmerSweep 1.5s ease-in-out infinite;
}
.mini-shimmer-card-line:nth-child(2) { width: 75%; }
.mini-shimmer-card-line:nth-child(3) { width: 50%; }

.mini-shimmer-profile {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}
.mini-shimmer-profile-circle {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: linear-gradient(90deg, #555 25%, #777 50%, #555 75%);
  background-size: 200% 100%;
  animation: shimmerSweep 1.5s ease-in-out infinite;
}
.mini-shimmer-profile-line {
  width: 14px;
  height: 2px;
  border-radius: 1px;
  background: linear-gradient(90deg, #555 25%, #777 50%, #555 75%);
  background-size: 200% 100%;
  animation: shimmerSweep 1.5s ease-in-out infinite;
}

.mini-shimmer-feed {
  display: flex;
  flex-direction: column;
  gap: 3px;
}
.mini-shimmer-feed-row {
  display: flex;
  gap: 2px;
  align-items: center;
}
.mini-shimmer-feed-dot {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: linear-gradient(90deg, #555 25%, #777 50%, #555 75%);
  background-size: 200% 100%;
  animation: shimmerSweep 1.5s ease-in-out infinite;
  flex-shrink: 0;
}
.mini-shimmer-feed-bar {
  width: 12px;
  height: 2px;
  border-radius: 1px;
  background: linear-gradient(90deg, #555 25%, #777 50%, #555 75%);
  background-size: 200% 100%;
  animation: shimmerSweep 1.5s ease-in-out infinite;
}
</style>
</head>
<body>

<aside class="sidebar">
  <div class="sidebar-header">Loaders</div>

  <div class="sidebar-section">
    <div class="sidebar-label">reacticx</div>
    <div class="sidebar-item active" data-loader="pulsing-dots">
      <div class="sidebar-preview">
        <div class="mini-pulsing-dots"><span></span><span></span><span></span></div>
      </div>
      Pulsing Dots
    </div>
    <div class="sidebar-item" data-loader="orbiting-dots">
      <div class="sidebar-preview">
        <div class="mini-orbiting">
          <div class="mini-orbiting-center"></div>
          <div class="mini-orbiting-dot"></div>
        </div>
      </div>
      Orbiting Dots
    </div>
    <div class="sidebar-item" data-loader="circular-loader">
      <div class="sidebar-preview">
        <div class="mini-circular"></div>
      </div>
      Circular Loader
    </div>
    <div class="sidebar-item" data-loader="bouncing-dots">
      <div class="sidebar-preview">
        <div class="mini-bouncing"><span></span><span></span><span></span></div>
      </div>
      Bouncing Dots
    </div>
  </div>

  <div class="sidebar-section">
    <div class="sidebar-label">Custom</div>
    <div class="sidebar-item" data-loader="spinner-ring">
      <div class="sidebar-preview">
        <div class="mini-spinner"></div>
      </div>
      Spinner Ring
    </div>
    <div class="sidebar-item" data-loader="breathing-circle">
      <div class="sidebar-preview">
        <div class="mini-breathing"></div>
      </div>
      Breathing Circle
    </div>
    <div class="sidebar-item" data-loader="wave-bars">
      <div class="sidebar-preview">
        <div class="mini-wave-bars"><span></span><span></span><span></span><span></span><span></span></div>
      </div>
      Wave Bars
    </div>
    <div class="sidebar-item" data-loader="rotating-square">
      <div class="sidebar-preview">
        <div class="mini-rotating-square"></div>
      </div>
      Rotating Square
    </div>
    <div class="sidebar-item" data-loader="glow-ring">
      <div class="sidebar-preview">
        <div class="mini-glow-ring"></div>
      </div>
      Glow Ring
    </div>
  </div>

  <div class="sidebar-section">
    <div class="sidebar-label">Shimmers</div>
    <div class="sidebar-item" data-loader="shimmer-card">
      <div class="sidebar-preview">
        <div class="mini-shimmer-card">
          <div class="mini-shimmer-card-img"></div>
          <div class="mini-shimmer-card-line"></div>
          <div class="mini-shimmer-card-line"></div>
        </div>
      </div>
      Card
    </div>
    <div class="sidebar-item" data-loader="shimmer-text">
      <div class="sidebar-preview">
        <div class="mini-shimmer">
          <span></span><span></span><span></span>
        </div>
      </div>
      Text Block
    </div>
    <div class="sidebar-item" data-loader="shimmer-profile">
      <div class="sidebar-preview">
        <div class="mini-shimmer-profile">
          <div class="mini-shimmer-profile-circle"></div>
          <div class="mini-shimmer-profile-line"></div>
        </div>
      </div>
      Profile
    </div>
    <div class="sidebar-item" data-loader="shimmer-feed">
      <div class="sidebar-preview">
        <div class="mini-shimmer-feed">
          <div class="mini-shimmer-feed-row"><div class="mini-shimmer-feed-dot"></div><div class="mini-shimmer-feed-bar"></div></div>
          <div class="mini-shimmer-feed-row"><div class="mini-shimmer-feed-dot"></div><div class="mini-shimmer-feed-bar"></div></div>
          <div class="mini-shimmer-feed-row"><div class="mini-shimmer-feed-dot"></div><div class="mini-shimmer-feed-bar"></div></div>
        </div>
      </div>
      Feed List
    </div>
  </div>
</aside>

<main class="main">
  <div class="mode-toggle">
    <button class="mode-btn active" data-mode="fullscreen">Fullscreen</button>
    <button class="mode-btn" data-mode="contextual">Contextual</button>
  </div>
  <div class="phone">
    <div class="phone-screen">
      <div class="loader-container">
        <div class="loader active" id="loader-pulsing-dots">
          <div class="pulsing-dots"><span></span><span></span><span></span></div>
        </div>
        <div class="loader" id="loader-orbiting-dots">
          <div class="orbiting-dots">
            <div class="orbiting-center"></div>
            <div class="orbiting-dot"></div>
            <div class="orbiting-dot"></div>
            <div class="orbiting-dot"></div>
          </div>
        </div>
        <div class="loader" id="loader-circular-loader">
          <div class="circular-loader"></div>
        </div>
        <div class="loader" id="loader-bouncing-dots">
          <div class="bouncing-dots"><span></span><span></span><span></span></div>
        </div>
        <div class="loader" id="loader-spinner-ring">
          <div class="spinner-ring"></div>
        </div>
        <div class="loader" id="loader-breathing-circle">
          <div class="breathing-circle"></div>
        </div>
        <div class="loader" id="loader-wave-bars">
          <div class="wave-bars"><span></span><span></span><span></span><span></span><span></span></div>
        </div>
        <div class="loader" id="loader-rotating-square">
          <div class="rotating-square"></div>
        </div>
        <div class="loader" id="loader-glow-ring">
          <div class="glow-ring-wrapper">
            <div class="glow-ring-arc"></div>
            <div class="glow-ring-dot"></div>
          </div>
        </div>
        <div class="loader shimmer-type" id="loader-shimmer-card">
          <div class="shimmer-card-layout">
            <div class="shimmer-bone shimmer-card-image"></div>
            <div class="shimmer-bone shimmer-card-line1"></div>
            <div class="shimmer-bone shimmer-card-line2"></div>
            <div class="shimmer-card-actions">
              <div class="shimmer-bone shimmer-card-btn"></div>
              <div class="shimmer-bone shimmer-card-btn"></div>
            </div>
          </div>
        </div>
        <div class="loader shimmer-type" id="loader-shimmer-text">
          <div class="shimmer-text-layout">
            <div class="shimmer-bone shimmer-text-title"></div>
            <div class="shimmer-bone shimmer-text-line"></div>
            <div class="shimmer-bone shimmer-text-line"></div>
            <div class="shimmer-bone shimmer-text-line"></div>
            <div class="shimmer-bone shimmer-text-line"></div>
            <div class="shimmer-bone shimmer-text-line"></div>
          </div>
        </div>
        <div class="loader shimmer-type" id="loader-shimmer-profile">
          <div class="shimmer-profile-layout">
            <div class="shimmer-bone shimmer-profile-avatar"></div>
            <div class="shimmer-bone shimmer-profile-name"></div>
            <div class="shimmer-bone shimmer-profile-bio"></div>
            <div class="shimmer-bone shimmer-profile-bio"></div>
            <div class="shimmer-profile-stats">
              <div class="shimmer-profile-stat">
                <div class="shimmer-bone shimmer-profile-stat-num"></div>
                <div class="shimmer-bone shimmer-profile-stat-label"></div>
              </div>
              <div class="shimmer-profile-stat">
                <div class="shimmer-bone shimmer-profile-stat-num"></div>
                <div class="shimmer-bone shimmer-profile-stat-label"></div>
              </div>
              <div class="shimmer-profile-stat">
                <div class="shimmer-bone shimmer-profile-stat-num"></div>
                <div class="shimmer-bone shimmer-profile-stat-label"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="loader shimmer-type" id="loader-shimmer-feed">
          <div class="shimmer-feed-layout">
            <div class="shimmer-feed-item">
              <div class="shimmer-bone shimmer-feed-avatar"></div>
              <div class="shimmer-feed-lines">
                <div class="shimmer-bone shimmer-feed-line1"></div>
                <div class="shimmer-bone shimmer-feed-line2"></div>
              </div>
            </div>
            <div class="shimmer-feed-divider"></div>
            <div class="shimmer-feed-item">
              <div class="shimmer-bone shimmer-feed-avatar"></div>
              <div class="shimmer-feed-lines">
                <div class="shimmer-bone shimmer-feed-line1"></div>
                <div class="shimmer-bone shimmer-feed-line2"></div>
              </div>
            </div>
            <div class="shimmer-feed-divider"></div>
            <div class="shimmer-feed-item">
              <div class="shimmer-bone shimmer-feed-avatar"></div>
              <div class="shimmer-feed-lines">
                <div class="shimmer-bone shimmer-feed-line1"></div>
                <div class="shimmer-bone shimmer-feed-line2"></div>
              </div>
            </div>
            <div class="shimmer-feed-divider"></div>
            <div class="shimmer-feed-item">
              <div class="shimmer-bone shimmer-feed-avatar"></div>
              <div class="shimmer-feed-lines">
                <div class="shimmer-bone shimmer-feed-line1"></div>
                <div class="shimmer-bone shimmer-feed-line2"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="contextual-ui">
        <div class="ctx-header">
          <div class="ctx-title">Explore</div>
          <div class="ctx-avatar"></div>
        </div>
        <div class="ctx-card">
          <div class="ctx-card-title">Loading content...</div>
          <div class="ctx-card-subtitle">Fetching your personalized feed</div>
          <div class="ctx-loader-area" id="ctxLoaderArea"></div>
        </div>
        <div class="ctx-skeleton">
          <div class="ctx-skeleton-line"></div>
          <div class="ctx-skeleton-line"></div>
          <div class="ctx-skeleton-line"></div>
        </div>
        <div class="ctx-bottom-bar">
          <div class="ctx-tab"></div>
          <div class="ctx-tab"></div>
          <div class="ctx-tab"></div>
          <div class="ctx-tab"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="theme-row">
    <span class="controls-label">Theme</span>
    <div class="color-swatches">
      <div class="color-swatch active" data-bg="#ffffff" data-fg="#333333" title="Light" style="background:#ffffff"></div>
      <div class="color-swatch" data-bg="#f5f5f5" data-fg="#444444" title="Soft Gray" style="background:#f5f5f5"></div>
      <div class="color-swatch" data-bg="#1c1c1e" data-fg="#ffffff" title="Dark" style="background:#1c1c1e"></div>
      <div class="color-swatch" data-bg="#000000" data-fg="#ffffff" title="Black" style="background:#000000"></div>
      <div class="color-swatch" data-bg="#0a1628" data-fg="#6eb5ff" title="Navy" style="background:#0a1628"></div>
      <div class="color-swatch" data-bg="#fef7ed" data-fg="#8b5e34" title="Warm" style="background:#fef7ed"></div>
    </div>
  </div>
</main>

<div class="code-panel">
  <button class="copy-btn" id="copyBtn">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
      <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
    </svg>
    <span id="copyLabel">Copy RN Code</span>
  </button>
  <button class="toggle-code" id="toggleCode">Show code</button>
  <div class="code-preview" id="codePreview">
    <pre id="codeContent"></pre>
  </div>
</div>

<script>
const rnCode = {
  'pulsing-dots': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet } from 'react-native';

const PulsingDots = ({ color = '#333', size = 14 }) => {
  const anims = [useRef(new Animated.Value(0.2)).current, useRef(new Animated.Value(0.2)).current, useRef(new Animated.Value(0.2)).current];

  useEffect(() => {
    anims.forEach((anim, i) => {
      Animated.loop(
        Animated.sequence([
          Animated.delay(i * 200),
          Animated.timing(anim, { toValue: 1, duration: 600, useNativeDriver: true }),
          Animated.timing(anim, { toValue: 0.2, duration: 600, useNativeDriver: true }),
        ])
      ).start();
    });
  }, []);

  return (
    <View style={styles.container}>
      {anims.map((anim, i) => (
        <Animated.View
          key={i}
          style={[styles.dot, { backgroundColor: color, width: size, height: size, borderRadius: size / 2, opacity: anim, transform: [{ scale: anim }] }]}
        />
      ))}
    </View>
  );
};

const styles = StyleSheet.create({
  container: { flexDirection: 'row', alignItems: 'center', gap: 10 },
  dot: {},
});

export default PulsingDots;`,

  'orbiting-dots': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet, Easing } from 'react-native';

const OrbitingDots = ({ color = '#333', size = 60 }) => {
  const rotation = useRef(new Animated.Value(0)).current;
  const pulse = useRef(new Animated.Value(0.85)).current;

  useEffect(() => {
    Animated.loop(
      Animated.timing(rotation, { toValue: 1, duration: 1800, easing: Easing.linear, useNativeDriver: true })
    ).start();
    Animated.loop(
      Animated.sequence([
        Animated.timing(pulse, { toValue: 1, duration: 1000, useNativeDriver: true }),
        Animated.timing(pulse, { toValue: 0.85, duration: 1000, useNativeDriver: true }),
      ])
    ).start();
  }, []);

  const spin = rotation.interpolate({ inputRange: [0, 1], outputRange: ['0deg', '360deg'] });

  return (
    <View style={[styles.container, { width: size, height: size }]}>
      <Animated.View style={[styles.center, { backgroundColor: color, transform: [{ scale: pulse }] }]} />
      {[0, 1, 2].map((i) => (
        <Animated.View
          key={i}
          style={[styles.orbitWrapper, { width: size, height: size, transform: [{ rotate: spin }] }]}
        >
          <View style={[styles.orbitDot, { backgroundColor: color, opacity: 1 - i * 0.2, width: 8 - i, height: 8 - i }]} />
        </Animated.View>
      ))}
    </View>
  );
};

const styles = StyleSheet.create({
  container: { alignItems: 'center', justifyContent: 'center' },
  center: { width: 16, height: 16, borderRadius: 8, position: 'absolute' },
  orbitWrapper: { position: 'absolute', alignItems: 'center' },
  orbitDot: { borderRadius: 4 },
});

export default OrbitingDots;`,

  'circular-loader': `import React, { useEffect, useRef } from 'react';
import { Animated, StyleSheet, Easing } from 'react-native';

const CircularLoader = ({ color = '#333', size = 48, strokeWidth = 4 }) => {
  const rotation = useRef(new Animated.Value(0)).current;

  useEffect(() => {
    Animated.loop(
      Animated.timing(rotation, { toValue: 1, duration: 800, easing: Easing.linear, useNativeDriver: true })
    ).start();
  }, []);

  const spin = rotation.interpolate({ inputRange: [0, 1], outputRange: ['0deg', '360deg'] });

  return (
    <Animated.View
      style={[styles.loader, {
        width: size, height: size, borderRadius: size / 2,
        borderWidth: strokeWidth, borderColor: '#e0e0e0',
        borderTopColor: color, transform: [{ rotate: spin }],
      }]}
    />
  );
};

const styles = StyleSheet.create({
  loader: {},
});

export default CircularLoader;`,

  'bouncing-dots': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet } from 'react-native';

const BouncingDots = ({ color = '#333', size = 14 }) => {
  const anims = [useRef(new Animated.Value(0)).current, useRef(new Animated.Value(0)).current, useRef(new Animated.Value(0)).current];

  useEffect(() => {
    anims.forEach((anim, i) => {
      Animated.loop(
        Animated.sequence([
          Animated.delay(i * 150),
          Animated.timing(anim, { toValue: -20, duration: 300, useNativeDriver: true }),
          Animated.timing(anim, { toValue: 0, duration: 300, useNativeDriver: true }),
        ])
      ).start();
    });
  }, []);

  return (
    <View style={styles.container}>
      {anims.map((anim, i) => (
        <Animated.View
          key={i}
          style={[styles.dot, { backgroundColor: color, width: size, height: size, borderRadius: size / 2, transform: [{ translateY: anim }] }]}
        />
      ))}
    </View>
  );
};

const styles = StyleSheet.create({
  container: { flexDirection: 'row', alignItems: 'flex-end', gap: 10, height: 40 },
  dot: {},
});

export default BouncingDots;`,

  'spinner-ring': `import React, { useEffect, useRef } from 'react';
import { Animated, StyleSheet, Easing } from 'react-native';

const SpinnerRing = ({ color = '#333', size = 44, strokeWidth = 4 }) => {
  const rotation = useRef(new Animated.Value(0)).current;

  useEffect(() => {
    Animated.loop(
      Animated.timing(rotation, { toValue: 1, duration: 1000, easing: Easing.linear, useNativeDriver: true })
    ).start();
  }, []);

  const spin = rotation.interpolate({ inputRange: [0, 1], outputRange: ['0deg', '360deg'] });

  return (
    <Animated.View
      style={[styles.ring, {
        width: size, height: size, borderRadius: size / 2,
        borderWidth: strokeWidth, borderColor: 'transparent',
        borderTopColor: color, borderRightColor: color, borderBottomColor: color,
        transform: [{ rotate: spin }],
      }]}
    />
  );
};

const styles = StyleSheet.create({
  ring: {},
});

export default SpinnerRing;`,

  'breathing-circle': `import React, { useEffect, useRef } from 'react';
import { Animated, StyleSheet } from 'react-native';

const BreathingCircle = ({ color = '#333', size = 48 }) => {
  const scale = useRef(new Animated.Value(0.6)).current;
  const opacity = useRef(new Animated.Value(0.4)).current;

  useEffect(() => {
    Animated.loop(
      Animated.parallel([
        Animated.sequence([
          Animated.timing(scale, { toValue: 1, duration: 1250, useNativeDriver: true }),
          Animated.timing(scale, { toValue: 0.6, duration: 1250, useNativeDriver: true }),
        ]),
        Animated.sequence([
          Animated.timing(opacity, { toValue: 1, duration: 1250, useNativeDriver: true }),
          Animated.timing(opacity, { toValue: 0.4, duration: 1250, useNativeDriver: true }),
        ]),
      ])
    ).start();
  }, []);

  return (
    <Animated.View
      style={[styles.circle, {
        width: size, height: size, borderRadius: size / 2,
        backgroundColor: color, opacity, transform: [{ scale }],
      }]}
    />
  );
};

const styles = StyleSheet.create({
  circle: {},
});

export default BreathingCircle;`,

  'wave-bars': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet } from 'react-native';

const WaveBars = ({ color = '#333', barWidth = 6, barCount = 5 }) => {
  const anims = Array.from({ length: barCount }, () => useRef(new Animated.Value(0.5)).current);
  const heights = [16, 24, 32, 24, 16];

  useEffect(() => {
    anims.forEach((anim, i) => {
      Animated.loop(
        Animated.sequence([
          Animated.delay(i * 100),
          Animated.timing(anim, { toValue: 1.3, duration: 600, useNativeDriver: true }),
          Animated.timing(anim, { toValue: 0.5, duration: 600, useNativeDriver: true }),
        ])
      ).start();
    });
  }, []);

  return (
    <View style={styles.container}>
      {anims.map((anim, i) => (
        <Animated.View
          key={i}
          style={[styles.bar, {
            backgroundColor: color, width: barWidth,
            height: heights[i], borderRadius: barWidth / 2,
            transform: [{ scaleY: anim }], opacity: anim,
          }]}
        />
      ))}
    </View>
  );
};

const styles = StyleSheet.create({
  container: { flexDirection: 'row', alignItems: 'center', gap: 5, height: 40 },
  bar: {},
});

export default WaveBars;`,

  'rotating-square': `import React, { useEffect, useRef } from 'react';
import { Animated, StyleSheet, Easing } from 'react-native';

const RotatingSquare = ({ color = '#333', size = 36 }) => {
  const rotation = useRef(new Animated.Value(0)).current;
  const borderRadius = useRef(new Animated.Value(6)).current;

  useEffect(() => {
    Animated.loop(
      Animated.parallel([
        Animated.timing(rotation, { toValue: 1, duration: 1600, easing: Easing.inOut(Easing.ease), useNativeDriver: false }),
        Animated.sequence([
          Animated.timing(borderRadius, { toValue: size / 2, duration: 800, useNativeDriver: false }),
          Animated.timing(borderRadius, { toValue: 6, duration: 800, useNativeDriver: false }),
        ]),
      ])
    ).start();
  }, []);

  const spin = rotation.interpolate({ inputRange: [0, 1], outputRange: ['0deg', '360deg'] });

  return (
    <Animated.View
      style={[styles.square, {
        width: size, height: size, backgroundColor: color,
        borderRadius, transform: [{ rotate: spin }],
      }]}
    />
  );
};

const styles = StyleSheet.create({
  square: {},
});

export default RotatingSquare;`,

  'glow-ring': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet, Easing } from 'react-native';
import Svg, { Defs, Stop, Circle, LinearGradient } from 'react-native-svg';

const GlowRing = ({ size = 80, color = '#6eb5ff', glowColor = '#ffffff' }) => {
  const rotation = useRef(new Animated.Value(0)).current;

  useEffect(() => {
    Animated.loop(
      Animated.timing(rotation, {
        toValue: 1, duration: 1000,
        easing: Easing.linear, useNativeDriver: true,
      })
    ).start();
  }, []);

  const spin = rotation.interpolate({
    inputRange: [0, 1], outputRange: ['0deg', '360deg'],
  });

  return (
    <View style={[styles.container, { width: size, height: size }]}>
      <Animated.View style={[styles.ring, { width: size, height: size, transform: [{ rotate: spin }] }]}>
        <Svg width={size} height={size}>
          <Defs>
            <LinearGradient id="grad" x1="0" y1="0" x2="1" y2="0">
              <Stop offset="0" stopColor={color} stopOpacity="0" />
              <Stop offset="0.5" stopColor={color} stopOpacity="0.8" />
              <Stop offset="1" stopColor={glowColor} stopOpacity="1" />
            </LinearGradient>
          </Defs>
          <Circle
            cx={size / 2} cy={size / 2} r={size / 2 - 3}
            stroke="url(#grad)" strokeWidth={3}
            fill="none" strokeLinecap="round"
            strokeDasharray={${'`'}${'$'}{Math.PI * (size - 6) * 0.6} ${'$'}{Math.PI * (size - 6) * 0.4}${'`'}}
          />
        </Svg>
        <View style={[styles.glow, {
          width: 12, height: 12, borderRadius: 6,
          backgroundColor: glowColor,
          top: 0, left: size / 2 - 6,
          shadowColor: glowColor, shadowRadius: 10, shadowOpacity: 0.8,
        }]} />
      </Animated.View>
    </View>
  );
};

const styles = StyleSheet.create({
  container: { alignItems: 'center', justifyContent: 'center' },
  ring: { position: 'relative' },
  glow: { position: 'absolute' },
});

export default GlowRing;`,

  'shimmer-card': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet, Easing } from 'react-native';

const ShimmerBone = ({ style }) => {
  const shimmer = useRef(new Animated.Value(0)).current;

  useEffect(() => {
    Animated.loop(
      Animated.timing(shimmer, {
        toValue: 1, duration: 1500,
        easing: Easing.inOut(Easing.ease), useNativeDriver: true,
      })
    ).start();
  }, []);

  const translateX = shimmer.interpolate({
    inputRange: [0, 1], outputRange: [-200, 200],
  });

  return (
    <View style={[styles.bone, style]}>
      <Animated.View style={[styles.shimmer, { transform: [{ translateX }] }]} />
    </View>
  );
};

const CardShimmer = () => (
  <View style={styles.container}>
    <ShimmerBone style={styles.image} />
    <ShimmerBone style={styles.title} />
    <ShimmerBone style={styles.subtitle} />
    <View style={styles.actions}>
      <ShimmerBone style={styles.btn} />
      <ShimmerBone style={styles.btn} />
    </View>
  </View>
);

const styles = StyleSheet.create({
  container: { gap: 12, padding: 16 },
  bone: { backgroundColor: '#e8e8e8', borderRadius: 6, overflow: 'hidden' },
  shimmer: {
    ...StyleSheet.absoluteFillObject,
    backgroundColor: 'rgba(255,255,255,0.4)',
    width: 100,
  },
  image: { width: '100%', height: 140, borderRadius: 12 },
  title: { width: '70%', height: 14 },
  subtitle: { width: '50%', height: 10 },
  actions: { flexDirection: 'row', gap: 10, marginTop: 4 },
  btn: { width: 60, height: 28, borderRadius: 14 },
});

export default CardShimmer;`,

  'shimmer-text': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet, Easing } from 'react-native';

const ShimmerBone = ({ style }) => {
  const shimmer = useRef(new Animated.Value(0)).current;

  useEffect(() => {
    Animated.loop(
      Animated.timing(shimmer, {
        toValue: 1, duration: 1500,
        easing: Easing.inOut(Easing.ease), useNativeDriver: true,
      })
    ).start();
  }, []);

  const translateX = shimmer.interpolate({
    inputRange: [0, 1], outputRange: [-200, 200],
  });

  return (
    <View style={[styles.bone, style]}>
      <Animated.View style={[styles.shimmer, { transform: [{ translateX }] }]} />
    </View>
  );
};

const TextBlockShimmer = () => (
  <View style={styles.container}>
    <ShimmerBone style={styles.title} />
    <ShimmerBone style={[styles.line, { width: '100%' }]} />
    <ShimmerBone style={[styles.line, { width: '95%' }]} />
    <ShimmerBone style={[styles.line, { width: '88%' }]} />
    <ShimmerBone style={[styles.line, { width: '100%' }]} />
    <ShimmerBone style={[styles.line, { width: '72%' }]} />
  </View>
);

const styles = StyleSheet.create({
  container: { gap: 10, padding: 16 },
  bone: { backgroundColor: '#e8e8e8', borderRadius: 4, overflow: 'hidden' },
  shimmer: {
    ...StyleSheet.absoluteFillObject,
    backgroundColor: 'rgba(255,255,255,0.4)',
    width: 100,
  },
  title: { width: '55%', height: 16, marginBottom: 4 },
  line: { height: 11 },
});

export default TextBlockShimmer;`,

  'shimmer-profile': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet, Easing } from 'react-native';

const ShimmerBone = ({ style }) => {
  const shimmer = useRef(new Animated.Value(0)).current;

  useEffect(() => {
    Animated.loop(
      Animated.timing(shimmer, {
        toValue: 1, duration: 1500,
        easing: Easing.inOut(Easing.ease), useNativeDriver: true,
      })
    ).start();
  }, []);

  const translateX = shimmer.interpolate({
    inputRange: [0, 1], outputRange: [-200, 200],
  });

  return (
    <View style={[styles.bone, style]}>
      <Animated.View style={[styles.shimmer, { transform: [{ translateX }] }]} />
    </View>
  );
};

const ProfileShimmer = () => (
  <View style={styles.container}>
    <ShimmerBone style={styles.avatar} />
    <ShimmerBone style={styles.name} />
    <ShimmerBone style={styles.bio1} />
    <ShimmerBone style={styles.bio2} />
    <View style={styles.stats}>
      {[0, 1, 2].map(i => (
        <View key={i} style={styles.stat}>
          <ShimmerBone style={styles.statNum} />
          <ShimmerBone style={styles.statLabel} />
        </View>
      ))}
    </View>
  </View>
);

const styles = StyleSheet.create({
  container: { alignItems: 'center', gap: 14, padding: 16 },
  bone: { backgroundColor: '#e8e8e8', overflow: 'hidden' },
  shimmer: {
    ...StyleSheet.absoluteFillObject,
    backgroundColor: 'rgba(255,255,255,0.4)',
    width: 100,
  },
  avatar: { width: 72, height: 72, borderRadius: 36 },
  name: { width: 120, height: 16, borderRadius: 4 },
  bio1: { width: 180, height: 10, borderRadius: 4 },
  bio2: { width: 140, height: 10, borderRadius: 4 },
  stats: { flexDirection: 'row', gap: 24, marginTop: 4 },
  stat: { alignItems: 'center', gap: 6 },
  statNum: { width: 36, height: 14, borderRadius: 4 },
  statLabel: { width: 48, height: 9, borderRadius: 4 },
});

export default ProfileShimmer;`,

  'shimmer-feed': `import React, { useEffect, useRef } from 'react';
import { View, Animated, StyleSheet, Easing } from 'react-native';

const ShimmerBone = ({ style }) => {
  const shimmer = useRef(new Animated.Value(0)).current;

  useEffect(() => {
    Animated.loop(
      Animated.timing(shimmer, {
        toValue: 1, duration: 1500,
        easing: Easing.inOut(Easing.ease), useNativeDriver: true,
      })
    ).start();
  }, []);

  const translateX = shimmer.interpolate({
    inputRange: [0, 1], outputRange: [-200, 200],
  });

  return (
    <View style={[styles.bone, style]}>
      <Animated.View style={[styles.shimmer, { transform: [{ translateX }] }]} />
    </View>
  );
};

const FeedListShimmer = ({ itemCount = 4 }) => (
  <View style={styles.container}>
    {Array.from({ length: itemCount }).map((_, i) => (
      <View key={i}>
        <View style={styles.row}>
          <ShimmerBone style={styles.avatar} />
          <View style={styles.lines}>
            <ShimmerBone style={styles.line1} />
            <ShimmerBone style={styles.line2} />
          </View>
        </View>
        {i < itemCount - 1 && <View style={styles.divider} />}
      </View>
    ))}
  </View>
);

const styles = StyleSheet.create({
  container: { gap: 16, padding: 16 },
  bone: { backgroundColor: '#e8e8e8', overflow: 'hidden' },
  shimmer: {
    ...StyleSheet.absoluteFillObject,
    backgroundColor: 'rgba(255,255,255,0.4)',
    width: 100,
  },
  row: { flexDirection: 'row', gap: 12, alignItems: 'flex-start' },
  avatar: { width: 40, height: 40, borderRadius: 20 },
  lines: { flex: 1, gap: 8, paddingTop: 2 },
  line1: { width: '75%', height: 12, borderRadius: 4 },
  line2: { width: '55%', height: 10, borderRadius: 4 },
  divider: { height: 1, backgroundColor: '#f0f0f0', marginTop: 16 },
});

export default FeedListShimmer;`,
};

// ── State ──
let activeLoader = 'pulsing-dots';
let activeMode = 'fullscreen';
let codeVisible = false;

// ── DOM refs ──
const items = document.querySelectorAll('.sidebar-item');
const loaders = document.querySelectorAll('.loader');
const copyBtn = document.getElementById('copyBtn');
const copyLabel = document.getElementById('copyLabel');
const toggleCode = document.getElementById('toggleCode');
const codePreview = document.getElementById('codePreview');
const codeContent = document.getElementById('codeContent');

// ── Sidebar navigation ──
items.forEach(item => {
  item.addEventListener('click', () => {
    const id = item.dataset.loader;
    if (id === activeLoader) return;

    items.forEach(i => i.classList.remove('active'));
    item.classList.add('active');

    loaders.forEach(l => l.classList.remove('active'));
    document.getElementById('loader-' + id).classList.add('active');

    activeLoader = id;
    if (activeMode === 'contextual') updateCtxLoader();
    updateCodePreview();
    resetCopyBtn();
  });
});

// ── Mode toggle ──
const modeBtns = document.querySelectorAll('.mode-btn');
const phoneScreen = document.querySelector('.phone-screen');
const ctxLoaderArea = document.getElementById('ctxLoaderArea');

modeBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    const mode = btn.dataset.mode;
    if (mode === activeMode) return;
    modeBtns.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    activeMode = mode;
    if (mode === 'contextual') {
      phoneScreen.classList.add('contextual');
      updateCtxLoader();
    } else {
      phoneScreen.classList.remove('contextual');
    }
  });
});

// ── Color swatches ──
const swatches = document.querySelectorAll('.color-swatch');
let activeBg = '#ffffff';
let activeFg = '#333333';

swatches.forEach(swatch => {
  swatch.addEventListener('click', () => {
    swatches.forEach(s => s.classList.remove('active'));
    swatch.classList.add('active');
    activeBg = swatch.dataset.bg;
    activeFg = swatch.dataset.fg;
    applyTheme();
  });
});

function applyTheme() {
  phoneScreen.style.background = activeBg;
  // Recolor all loader elements inside the phone
  recolorElement(phoneScreen);
  // Contextual UI colors
  const isDark = isColorDark(activeBg);
  document.querySelectorAll('.ctx-title').forEach(el => el.style.color = isDark ? '#eee' : '#111');
  document.querySelectorAll('.ctx-card').forEach(el => el.style.background = isDark ? 'rgba(255,255,255,0.08)' : '#f5f5f5');
  document.querySelectorAll('.ctx-card-title').forEach(el => el.style.color = isDark ? '#ddd' : '#333');
  document.querySelectorAll('.ctx-card-subtitle').forEach(el => el.style.color = isDark ? '#777' : '#999');
  document.querySelectorAll('.ctx-skeleton-line').forEach(el => el.style.background = isDark ? 'rgba(255,255,255,0.06)' : '#ebebeb');
  document.querySelectorAll('.ctx-tab').forEach(el => el.style.background = isDark ? 'rgba(255,255,255,0.1)' : '#ddd');
  document.querySelectorAll('.ctx-avatar').forEach(el => el.style.background = isDark ? 'rgba(255,255,255,0.1)' : '#e8e8e8');
  document.querySelectorAll('.ctx-bottom-bar').forEach(el => el.style.borderTopColor = isDark ? 'rgba(255,255,255,0.08)' : '#eee');
  // Recolor ctx loader area clones too
  if (activeMode === 'contextual') updateCtxLoader();
}

function isColorDark(hex) {
  const r = parseInt(hex.slice(1,3), 16);
  const g = parseInt(hex.slice(3,5), 16);
  const b = parseInt(hex.slice(5,7), 16);
  return (r * 299 + g * 587 + b * 114) / 1000 < 128;
}

// Contextual shimmer templates — these replace the card content
// to show shimmer bones that match the context naturally
const ctxShimmerTemplates = {
  'shimmer-card': `
    <div class="shimmer-bone" style="width:100%;height:80px;border-radius:10px;margin-bottom:10px"></div>
    <div class="shimmer-bone" style="width:65%;height:11px;margin-bottom:8px"></div>
    <div class="shimmer-bone" style="width:45%;height:9px"></div>`,
  'shimmer-text': `
    <div class="shimmer-bone" style="width:50%;height:12px;margin-bottom:10px"></div>
    <div class="shimmer-bone" style="width:100%;height:9px;margin-bottom:6px"></div>
    <div class="shimmer-bone" style="width:92%;height:9px;margin-bottom:6px"></div>
    <div class="shimmer-bone" style="width:80%;height:9px;margin-bottom:6px"></div>
    <div class="shimmer-bone" style="width:100%;height:9px;margin-bottom:6px"></div>
    <div class="shimmer-bone" style="width:60%;height:9px"></div>`,
  'shimmer-profile': `
    <div style="display:flex;flex-direction:column;align-items:center;gap:10px">
      <div class="shimmer-bone" style="width:48px;height:48px;border-radius:50%"></div>
      <div class="shimmer-bone" style="width:80px;height:11px"></div>
      <div class="shimmer-bone" style="width:120px;height:8px"></div>
    </div>`,
  'shimmer-feed': `
    <div style="display:flex;gap:10px;align-items:center;margin-bottom:12px">
      <div class="shimmer-bone" style="width:28px;height:28px;border-radius:50%;flex-shrink:0"></div>
      <div style="flex:1;display:flex;flex-direction:column;gap:6px">
        <div class="shimmer-bone" style="width:70%;height:9px"></div>
        <div class="shimmer-bone" style="width:50%;height:8px"></div>
      </div>
    </div>
    <div style="display:flex;gap:10px;align-items:center">
      <div class="shimmer-bone" style="width:28px;height:28px;border-radius:50%;flex-shrink:0"></div>
      <div style="flex:1;display:flex;flex-direction:column;gap:6px">
        <div class="shimmer-bone" style="width:60%;height:9px"></div>
        <div class="shimmer-bone" style="width:45%;height:8px"></div>
      </div>
    </div>`,
};

const ctxCard = document.querySelector('.ctx-card');
const ctxCardTitle = document.querySelector('.ctx-card-title');
const ctxCardSubtitle = document.querySelector('.ctx-card-subtitle');
const ctxCardOriginalHTML = ctxCard.innerHTML;

function updateCtxLoader() {
  const isShimmer = activeLoader.startsWith('shimmer-');
  ctxLoaderArea.innerHTML = '';

  if (isShimmer) {
    // Replace the card content with context-appropriate shimmer bones
    ctxCardTitle.style.display = 'none';
    ctxCardSubtitle.style.display = 'none';
    ctxLoaderArea.style.height = 'auto';
    ctxLoaderArea.innerHTML = ctxShimmerTemplates[activeLoader] || '';
    recolorElement(ctxLoaderArea);
  } else {
    // Restore normal card content and clone the loader
    ctxCardTitle.style.display = '';
    ctxCardSubtitle.style.display = '';
    ctxLoaderArea.style.height = '64px';
    const src = document.querySelector('#loader-' + activeLoader + ' > *');
    if (src) {
      const clone = src.cloneNode(true);
      ctxLoaderArea.appendChild(clone);
      recolorElement(ctxLoaderArea);
    }
  }
}

function recolorElement(root) {
  const isDark = isColorDark(activeBg);
  const targets = root.querySelectorAll(
    '.pulsing-dots span, .orbiting-center, .orbiting-dot, .circular-loader, .bouncing-dots span, .spinner-ring, .breathing-circle, .wave-bars span, .rotating-square'
  );
  targets.forEach(el => {
    if (el.classList.contains('circular-loader')) {
      el.style.borderColor = isDark ? 'rgba(255,255,255,0.15)' : '#e0e0e0';
      el.style.borderTopColor = activeFg;
    } else if (el.classList.contains('spinner-ring')) {
      el.style.borderTopColor = activeFg;
      el.style.borderRightColor = activeFg;
      el.style.borderBottomColor = activeFg;
    } else {
      el.style.background = activeFg;
    }
  });
  // Shimmer bones
  const boneBase = isDark ? 'rgba(255,255,255,0.08)' : '#e8e8e8';
  const boneHighlight = isDark ? 'rgba(255,255,255,0.15)' : '#f5f5f5';
  root.querySelectorAll('.shimmer-bone').forEach(el => {
    el.style.background = `linear-gradient(90deg, ${boneBase} 25%, ${boneHighlight} 50%, ${boneBase} 75%)`;
    el.style.backgroundSize = '200% 100%';
    el.style.animation = 'shimmerSweep 1.5s ease-in-out infinite';
  });
  root.querySelectorAll('.shimmer-feed-divider').forEach(el => {
    el.style.background = isDark ? 'rgba(255,255,255,0.06)' : '#f0f0f0';
  });
}

// ── Code preview ──
function updateCodePreview() {
  codeContent.textContent = rnCode[activeLoader] || '';
}

toggleCode.addEventListener('click', () => {
  codeVisible = !codeVisible;
  codePreview.classList.toggle('open', codeVisible);
  toggleCode.textContent = codeVisible ? 'Hide code preview' : 'Show code preview';
});

// ── Copy to clipboard ──
copyBtn.addEventListener('click', async () => {
  try {
    await navigator.clipboard.writeText(rnCode[activeLoader]);
    copyBtn.classList.add('copied');
    copyLabel.textContent = 'Copied!';
    setTimeout(resetCopyBtn, 2000);
  } catch {
    // Fallback
    const ta = document.createElement('textarea');
    ta.value = rnCode[activeLoader];
    document.body.appendChild(ta);
    ta.select();
    document.execCommand('copy');
    document.body.removeChild(ta);
    copyBtn.classList.add('copied');
    copyLabel.textContent = 'Copied!';
    setTimeout(resetCopyBtn, 2000);
  }
});

function resetCopyBtn() {
  copyBtn.classList.remove('copied');
  copyLabel.textContent = 'Copy RN Code';
}

// Init
updateCodePreview();
</script>

</body>
</html>
